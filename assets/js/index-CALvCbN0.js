const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BlcHCKU4.js","./vendor-DNNUMqzz.js","../css/index-DXSHXFhL.css","./index-CpcvREnb.js","./index-B0InFIHr.js","./index-Dd3I-eG6.js","./index-BwWirjf2.js"])))=>i.map(i=>d[i]);
import{c as S,d as N,p as I,r as h,M as L,j as e,u as E,D as A,A as C,a as T,t as z,W as M,L as R,b as D,B as F,R as B,e as H,O as $,f,g as U,h as O,i as V,k as q,l as W,C as Y,z as G,H as J,m as K,n as Q}from"./vendor-DNNUMqzz.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const y=S()(N(I(n=>({token:"",userInfo:{},isReLogin:!1,setUserInfo:t=>n({userInfo:t}),setToken:t=>n({token:t}),loginOut:()=>n({token:"",userInfo:{}})}),{name:"appStore"}))),b=()=>y.getState().token,X=()=>{y.getState().loginOut()},Z=n=>y.setState({isReLogin:n});function ee(){const{isReLogin:n,loginOut:t}=y();return h.useEffect(()=>{n&&L.error({title:"警告",content:"登录失效请重新登录",okText:"去登录",onOk:()=>{Z(!1),t(),window.location.href="/"}})},[n,t]),e.jsx(e.Fragment,{})}const te="modulepreload",ne=function(n,t){return new URL(n,t).href},k={},p=function(t,r,a){let o=Promise.resolve();if(r&&r.length>0){const c=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),g=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(r.map(u=>{if(u=ne(u,a),u in k)return;k[u]=!0;const l=u.endsWith(".css"),x=l?'[rel="stylesheet"]':"";if(!!a)for(let m=c.length-1;m>=0;m--){const j=c[m];if(j.href===u&&(!l||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${x}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":te,l||(d.as="script"),d.crossOrigin="",d.href=u,g&&d.setAttribute("nonce",g),document.head.appendChild(d),l)return new Promise((m,j)=>{d.addEventListener("load",m),d.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return o.then(c=>{for(const i of c||[])i.status==="rejected"&&s(i.reason);return t().catch(s)})},re=""+new URL("../png/avatar-DNkpT6eM.png",import.meta.url).href;function oe(){const n=E(),t=[{key:"1",label:e.jsx("div",{children:"退出登录"}),onClick:()=>{r()}}],r=()=>{L.confirm({centered:!0,destroyOnClose:!0,title:"提示",content:"是否退出登录?",onOk:()=>{X(),n("/login",{replace:!0})}})};return e.jsx("div",{className:"pr-8",children:e.jsx(A,{menu:{items:t},placement:"bottom",arrow:{pointAtCenter:!0},children:e.jsx(C,{className:"select-none",size:45,src:re,shape:"square"})})})}const se=""+new URL("../../react.svg",import.meta.url).href;function w(n,t,r=[]){return t.forEach(a=>{a.path===n?r.push(a.path):n.includes(a.path)&&a.children&&(r.push(a.path),w(n,a.children,r))}),r}const{Header:ae,Footer:ie,Sider:le,Content:ce}=R,P=(n=v)=>n.map(t=>{var r,a;return{key:t.path||"",label:((r=t.meta)==null?void 0:r.title)||"",icon:(a=t.meta)==null?void 0:a.icon,children:(t==null?void 0:t.children)&&P(t.children)}});function ue(){const n=E(),t=T(),[r,a]=h.useState(!1),[o,s]=h.useState([]),{token:{colorBgContainer:c,borderRadiusLG:i}}=z.useToken(),g=l=>{n(l.key)},u=l=>{if(l.length===0||l.length===1)return s(l);const x=l[l.length-1];if(x.includes(l[0]))return s(l);s([x])};return h.useEffect(()=>{r||s(w(t.pathname,v))},[r,t.pathname]),e.jsx(e.Fragment,{children:e.jsx(M,{content:"Yolo",children:e.jsxs(R,{className:"h-[100vh]",children:[e.jsxs(le,{className:"overflow-auto",trigger:null,collapsible:!0,collapsed:r,children:[e.jsx("div",{children:e.jsx("img",{className:"w-10 h-10 mx-auto my-2 select-none",src:se,alt:""})}),e.jsx(D,{className:"select-none",triggerSubMenuAction:"click",theme:"dark",mode:"inline",openKeys:o,selectedKeys:[t.pathname],items:P(v),onClick:g,onOpenChange:u})]}),e.jsxs(R,{children:[e.jsx(ae,{style:{padding:0,background:c},children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx(F,{type:"text",icon:r?e.jsx(B,{}):e.jsx(H,{}),onClick:()=>a(!r),className:"w-16 h-16",size:"large"}),e.jsx(oe,{})]})}),e.jsx(ce,{className:"p-5 m-4 overflow-auto",style:{background:c,borderRadius:i},children:e.jsx($,{})}),e.jsx(ie,{className:"w-full flex justify-center items-center bg-white dark:bg-black p-1",children:e.jsx("a",{href:"https://github.com/Yolo-00/work-template-react",target:"_blank",className:"text-lg font-semibold",children:"work-template-react"})})]})]})})})}function de(){return e.jsx("h1",{children:"Not Found"})}const me=f.lazy(()=>p(()=>import("./index-BlcHCKU4.js"),__vite__mapDeps([0,1,2]),import.meta.url)),he=f.lazy(()=>p(()=>import("./index-CpcvREnb.js"),__vite__mapDeps([3,1]),import.meta.url)),fe=f.lazy(()=>p(()=>import("./index-B0InFIHr.js"),__vite__mapDeps([4,1]),import.meta.url)),pe=f.lazy(()=>p(()=>import("./index-Dd3I-eG6.js"),__vite__mapDeps([5,1]),import.meta.url)),ge=f.lazy(()=>p(()=>import("./index-BwWirjf2.js"),__vite__mapDeps([6,1]),import.meta.url)),v=[{path:"/",element:e.jsx(he,{}),meta:{title:"首页",icon:e.jsx(V,{})},loader:_},{path:"/userList",element:e.jsx(fe,{}),meta:{title:"用户列表",icon:e.jsx(q,{})},loader:_},{path:"/menu",meta:{title:"菜单",icon:e.jsx(W,{})},loader:_,children:[{path:"/menu/menu-1",element:e.jsx(pe,{}),meta:{title:"菜单-1"}},{path:"/menu/menu-2",meta:{title:"菜单-2"},children:[{path:"/menu/menu-2/menu-2-1",element:e.jsx(ge,{}),meta:{title:"菜单-2-1"}}]}]}],xe=U([{path:"/login",element:e.jsx(me,{}),loader:()=>b()?O("/"):null},{path:"/",element:e.jsx(ue,{}),children:[...v]},{path:"*",element:e.jsx(de,{})}],{future:{v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_relativeSplatPath:!0,v7_skipActionErrorRevalidation:!0}});function _(){return b()?null:O("/login")}function je(){return e.jsx(e.Fragment,{children:e.jsx(Y,{locale:G,theme:{},children:e.jsxs(J,{children:[e.jsx(K,{router:xe,future:{v7_startTransition:!0}}),e.jsx(ee,{})]})})})}Q(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx(je,{})}));export{Z as s,y as u};
