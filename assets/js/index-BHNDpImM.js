const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CKapKlVR.js","./vendor-DOalDL_i.js","../css/index-DXSHXFhL.css","./index-DB9zNUrd.js","./index-CU9ae6pz.js","./index-BApA0U9-.js","./index-Gpbm7KnN.js"])))=>i.map(i=>d[i]);
import{c as N,d as A,p as T,r as x,M as O,j as e,u as w,a as S,S as M,D as L,R as $,b as D,A as F,e as B,t as I,W as H,L as _,f as U,B as V,g as q,h as W,O as K,i as j,k as Y,l as C,m as G,n as J,o as Q,q as X,s as Z,C as ee,z as te,H as ne,v as re,w as oe}from"./vendor-DOalDL_i.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function c(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=c(o);fetch(o.href,s)}})();const g=N()(A(T(r=>({token:"",userInfo:{},isReLogin:!1,language:"zh",systemTheme:"light",setUserInfo:t=>r({userInfo:t}),setToken:t=>r({token:t}),loginOut:()=>r({token:"",userInfo:{}}),setLanguage:t=>r({language:t}),setSystemTheme:t=>r({systemTheme:t})}),{name:"appStore"}))),P=()=>g.getState().token,se=()=>g.getState().language,ae=()=>{g.getState().loginOut()},le=r=>g.setState({isReLogin:r});function ie(){const{isReLogin:r,loginOut:t}=g();return x.useEffect(()=>{r&&O.error({title:"警告",content:"登录失效请重新登录",okText:"去登录",onOk:()=>{le(!1),t(),window.location.href=location.origin+location.pathname}})},[r,t]),e.jsx(e.Fragment,{})}const ce="modulepreload",ue=function(r,t){return new URL(r,t).href},E={},v=function(t,c,a){let o=Promise.resolve();if(c&&c.length>0){const i=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),p=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=Promise.allSettled(c.map(u=>{if(u=ue(u,a),u in E)return;E[u]=!0;const d=u.endsWith(".css"),y=d?'[rel="stylesheet"]':"";if(!!a)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===u&&(!d||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${y}`))return;const n=document.createElement("link");if(n.rel=d?"stylesheet":ce,d||(n.as="script"),n.crossOrigin="",n.href=u,p&&n.setAttribute("nonce",p),document.head.appendChild(n),d)return new Promise((h,f)=>{n.addEventListener("load",h),n.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},me=""+new URL("../png/avatar-DNkpT6eM.png",import.meta.url).href;function de(){const r=w(),{language:t,setLanguage:c,systemTheme:a,setSystemTheme:o}=g(),{t:s,i18n:i}=S(),l=[{key:"light",label:e.jsx("div",{children:s("layout.header.locales.theme.light")}),onClick:()=>{d("light")}},{key:"dark",label:e.jsx("div",{children:s("layout.header.locales.theme.dark")}),onClick:()=>{d("dark")}}],p=[{key:"zh",label:e.jsx("div",{children:s("layout.header.locales.zh")}),onClick:()=>{y("zh")}},{key:"en",label:e.jsx("div",{children:s("layout.header.locales.en")}),onClick:()=>{y("en")}}],u=[{key:"1",label:e.jsx("div",{children:s("layout.header.info.out")}),onClick:()=>{m()}}],d=n=>{o(n)},y=n=>{c(n),i.changeLanguage(n)},m=()=>{O.confirm({centered:!0,destroyOnClose:!0,title:"提示",content:"是否退出登录?",onOk:()=>{ae(),r("/login",{replace:!0})}})};return e.jsx("div",{className:"pr-8",children:e.jsxs(M,{align:"center",size:"large",children:[e.jsx(L,{menu:{items:l,selectedKeys:[a]},placement:"bottom",arrow:{pointAtCenter:!0},children:e.jsx($,{className:"text-2xl cursor-pointer block py-2 px-3"})}),e.jsx(L,{menu:{items:p,selectedKeys:[t]},placement:"bottom",arrow:{pointAtCenter:!0},children:e.jsx(D,{className:"text-2xl cursor-pointer block py-2 px-3"})}),e.jsx(L,{menu:{items:u},placement:"bottom",arrow:{pointAtCenter:!0},children:e.jsx(F,{className:"select-none",size:45,src:me,shape:"square"})})]})})}const he=""+new URL("../../react.svg",import.meta.url).href;function z(r,t,c=[]){return t.forEach(a=>{a.path===r?c.push(a.path):r.includes(a.path)&&a.children&&(c.push(a.path),z(r,a.children,c))}),c}const{Header:fe,Footer:ge,Sider:pe,Content:ye}=_;function xe(){const r=w(),t=B(),{t:c}=S(),[a,o]=x.useState(!1),[s,i]=x.useState([]),{token:{colorBgContainer:l,borderRadiusLG:p}}=I.useToken(),u=(m=k)=>m.map(n=>{var h,f,R;return{key:n.path||"",label:(h=n.meta)!=null&&h.title?c((f=n.meta)==null?void 0:f.title):"",icon:(R=n.meta)==null?void 0:R.icon,children:(n==null?void 0:n.children)&&u(n.children)}}),d=m=>{r(m.key)},y=m=>{if(m.length===0||m.length===1)return i(m);const n=m[m.length-1];if(n.includes(m[0]))return i(m);i([n])};return x.useEffect(()=>{a||i(z(t.pathname,k))},[a,t.pathname]),e.jsx(e.Fragment,{children:e.jsx(H,{content:"Yolo",children:e.jsxs(_,{className:"h-[100vh]",children:[e.jsxs(pe,{className:"overflow-auto",trigger:null,collapsible:!0,collapsed:a,children:[e.jsx("div",{children:e.jsx("img",{className:"w-10 h-10 mx-auto my-2 select-none",src:he,alt:""})}),e.jsx(U,{className:"select-none",triggerSubMenuAction:"click",theme:"dark",mode:"inline",openKeys:s,selectedKeys:[t.pathname],items:u(k),onClick:d,onOpenChange:y})]}),e.jsxs(_,{children:[e.jsx(fe,{style:{padding:0,background:l},children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx(V,{type:"text",icon:a?e.jsx(q,{}):e.jsx(W,{}),onClick:()=>o(!a),className:"w-16 h-16",size:"large"}),e.jsx(de,{})]})}),e.jsx(ye,{className:"p-5 m-4 overflow-auto",style:{background:l,borderRadius:p},children:e.jsx(K,{})}),e.jsx(ge,{className:"w-full flex justify-center items-center p-1",style:{background:l},children:e.jsx("a",{href:"https://github.com/Yolo-00/work-template-react",target:"_blank",className:"text-lg font-semibold",children:"work-template-react"})})]})]})})})}function je(){return e.jsx("h1",{children:"Not Found"})}const ve=j.lazy(()=>v(()=>import("./index-CKapKlVR.js"),__vite__mapDeps([0,1,2]),import.meta.url)),ke=j.lazy(()=>v(()=>import("./index-DB9zNUrd.js"),__vite__mapDeps([3,1]),import.meta.url)),Le=j.lazy(()=>v(()=>import("./index-CU9ae6pz.js"),__vite__mapDeps([4,1]),import.meta.url)),be=j.lazy(()=>v(()=>import("./index-BApA0U9-.js"),__vite__mapDeps([5,1]),import.meta.url)),_e=j.lazy(()=>v(()=>import("./index-Gpbm7KnN.js"),__vite__mapDeps([6,1]),import.meta.url)),k=[{path:"/",element:e.jsx(ke,{}),meta:{title:"menu.home",icon:e.jsx(G,{}),desc:"首页"},loader:b},{path:"/userList",element:e.jsx(Le,{}),meta:{title:"menu.userList",icon:e.jsx(J,{}),desc:"用户列表"},loader:b},{path:"/menu",meta:{title:"menu.menu",icon:e.jsx(Q,{}),desc:"多级菜单"},loader:b,children:[{path:"/menu/menu-1",element:e.jsx(be,{}),meta:{title:"menu.menu-1"}},{path:"/menu/menu-2",meta:{title:"menu.menu-2"},children:[{path:"/menu/menu-2/menu-2-1",element:e.jsx(_e,{}),meta:{title:"menu.menu-2-1"}}]}]}],Re=Y([{path:"/login",element:e.jsx(ve,{}),loader:()=>P()?C("/"):null},{path:"/",element:e.jsx(xe,{}),children:[...k]},{path:"*",element:e.jsx(je,{})}],{future:{v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_relativeSplatPath:!0,v7_skipActionErrorRevalidation:!0}});function b(){return P()?null:C("/login")}const Ee="首页",Oe={"layout.header.locales.theme.light":"明亮","layout.header.locales.theme.dark":"黑暗","layout.header.locales.zh":"简体中文","layout.header.locales.en":"English","layout.header.info.out":"退出登录","menu.home":"首页","menu.userList":"用户列表","menu.menu":"多级菜单","menu.menu-1":"菜单-1","menu.menu-2":"菜单-2","menu.menu-2-1":"菜单-2-1",home:Ee},we="home",Se={"layout.header.locales.theme.light":"light","layout.header.locales.theme.dark":"dark","layout.header.locales.zh":"简体中文","layout.header.locales.en":"English","layout.header.info.out":"logout","menu.home":"home","menu.userList":"userList","menu.menu":"menu","menu.menu-1":"menu-1","menu.menu-2":"menu-2","menu.menu-2-1":"menu-2-1",home:we};X.use(Z).init({fallbackLng:se(),debug:!0,interpolation:{escapeValue:!1},resources:{zh:{translation:Oe},en:{translation:Se}}});function Ie(){const{language:r,systemTheme:t}=g();return x.useEffect(()=>{t==="dark"?document.body.classList.add("dark"):document.body.classList.remove("dark")},[t]),e.jsx(e.Fragment,{children:e.jsx(ee,{locale:r==="zh"?te:void 0,theme:{algorithm:t==="dark"?I.darkAlgorithm:void 0},children:e.jsxs(ne,{children:[e.jsx(re,{router:Re,future:{v7_startTransition:!0}}),e.jsx(ie,{})]})})})}oe(document.getElementById("root")).render(e.jsx(x.StrictMode,{children:e.jsx(Ie,{})}));export{le as s,g as u};
