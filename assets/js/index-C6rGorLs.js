const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-Cv4WIXqm.js","./vendor-DOalDL_i.js","../css/index-DXSHXFhL.css","./index-Dy44YgBD.js","./index-CXr602BE.js","./index-BApA0U9-.js","./index-Gpbm7KnN.js"])))=>i.map(i=>d[i]);
import{c as N,d as A,p as T,r as f,M as O,j as e,u as w,a as S,S as M,D as L,R as $,b as D,A as F,e as B,t as C,W as H,L as _,f as U,B as V,g as q,h as W,O as K,i as j,k as Y,l as I,m as G,n as J,o as Q,q as X,s as Z,C as ee,z as te,H as ne,v as re,w as oe}from"./vendor-DOalDL_i.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function c(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=c(o);fetch(o.href,s)}})();const p=N()(A(T(n=>({token:"",userInfo:{},isReLogin:!1,language:"zh",systemTheme:"light",setUserInfo:t=>n({userInfo:t}),setToken:t=>n({token:t}),loginOut:()=>n({token:"",userInfo:{}}),setLanguage:t=>n({language:t}),setSystemTheme:t=>n({systemTheme:t})}),{name:"appStore"}))),P=()=>p.getState().token,se=()=>p.getState().language,ae=()=>{p.getState().loginOut()},le=n=>p.setState({isReLogin:n});function ie(){const{isReLogin:n,loginOut:t}=p();return f.useEffect(()=>{n&&O.error({title:"警告",content:"登录失效请重新登录",okText:"去登录",onOk:()=>{le(!1),t(),window.location.href=location.origin+location.pathname}})},[n,t]),e.jsx(e.Fragment,{})}const ce="modulepreload",ue=function(n,t){return new URL(n,t).href},E={},k=function(t,c,a){let o=Promise.resolve();if(c&&c.length>0){const l=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),y=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(c.map(u=>{if(u=ue(u,a),u in E)return;E[u]=!0;const d=u.endsWith(".css"),x=d?'[rel="stylesheet"]':"";if(!!a)for(let h=l.length-1;h>=0;h--){const g=l[h];if(g.href===u&&(!d||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${x}`))return;const r=document.createElement("link");if(r.rel=d?"stylesheet":ce,d||(r.as="script"),r.crossOrigin="",r.href=u,y&&r.setAttribute("nonce",y),document.head.appendChild(r),d)return new Promise((h,g)=>{r.addEventListener("load",h),r.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return o.then(l=>{for(const i of l||[])i.status==="rejected"&&s(i.reason);return t().catch(s)})},me=""+new URL("../png/avatar-DNkpT6eM.png",import.meta.url).href;function de(){const n=w(),{language:t,setLanguage:c,systemTheme:a,setSystemTheme:o}=p(),{t:s,i18n:l}=S(),i=[{key:"light",label:e.jsx("div",{children:s("layout.header.locales.theme.light")}),onClick:()=>{d("light")}},{key:"dark",label:e.jsx("div",{children:s("layout.header.locales.theme.dark")}),onClick:()=>{d("dark")}}],y=[{key:"zh",label:e.jsx("div",{children:s("layout.header.locales.zh")}),onClick:()=>{x("zh")}},{key:"en",label:e.jsx("div",{children:s("layout.header.locales.en")}),onClick:()=>{x("en")}}],u=[{key:"1",label:e.jsx("div",{children:s("layout.header.info.out")}),onClick:()=>{m()}}],d=r=>{o(r)},x=r=>{c(r),l.changeLanguage(r)},m=f.useCallback(()=>{O.confirm({centered:!0,destroyOnClose:!0,title:"提示",content:"是否退出登录?",onOk:()=>{ae(),n("/login",{replace:!0})}})},[n]);return e.jsx("div",{className:"pr-8",children:e.jsxs(M,{align:"center",size:"large",children:[e.jsx(L,{menu:{items:i,selectedKeys:[a]},placement:"bottom",arrow:{pointAtCenter:!0},children:e.jsx($,{className:"text-2xl cursor-pointer block py-2 px-3"})}),e.jsx(L,{menu:{items:y,selectedKeys:[t]},placement:"bottom",arrow:{pointAtCenter:!0},children:e.jsx(D,{className:"text-2xl cursor-pointer block py-2 px-3"})}),e.jsx(L,{menu:{items:u},placement:"bottom",arrow:{pointAtCenter:!0},children:e.jsx(F,{className:"select-none",size:45,src:me,shape:"square"})})]})})}const he=""+new URL("../../react.svg",import.meta.url).href;function z(n,t,c=[]){return t.forEach(a=>{a.path===n?c.push(a.path):n.includes(a.path)&&a.children&&(c.push(a.path),z(n,a.children,c))}),c}const{Header:fe,Footer:ge,Sider:pe,Content:ye}=_;function xe(){const n=w(),t=B(),{t:c}=S(),[a,o]=f.useState(!1),[s,l]=f.useState([]),{token:{colorBgContainer:i,borderRadiusLG:y}}=C.useToken(),u=(m=v)=>m.map(r=>{var h,g,R;return{key:r.path||"",label:(h=r.meta)!=null&&h.title?c((g=r.meta)==null?void 0:g.title):"",icon:(R=r.meta)==null?void 0:R.icon,children:(r==null?void 0:r.children)&&u(r.children)}}),d=m=>{n(m.key)},x=f.useCallback(m=>{if(m.length===0||m.length===1)return l(m);const r=m[m.length-1];if(r.includes(m[0]))return l(m);l([r])},[l]);return f.useEffect(()=>{a||l(z(t.pathname,v))},[a,t.pathname]),e.jsx(e.Fragment,{children:e.jsx(H,{content:"Yolo",children:e.jsxs(_,{className:"h-[100vh]",children:[e.jsxs(pe,{className:"overflow-auto",trigger:null,collapsible:!0,collapsed:a,children:[e.jsx("div",{children:e.jsx("img",{className:"w-10 h-10 mx-auto my-2 select-none",src:he,alt:""})}),e.jsx(U,{className:"select-none",triggerSubMenuAction:"click",theme:"dark",mode:"inline",openKeys:s,selectedKeys:[t.pathname],items:u(v),onClick:d,onOpenChange:x})]}),e.jsxs(_,{children:[e.jsx(fe,{style:{padding:0,background:i},children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx(V,{type:"text",icon:a?e.jsx(q,{}):e.jsx(W,{}),onClick:()=>o(!a),className:"w-16 h-16",size:"large"}),e.jsx(de,{})]})}),e.jsx(ye,{className:"p-5 m-4 overflow-auto",style:{background:i,borderRadius:y},children:e.jsx(K,{})}),e.jsx(ge,{className:"w-full flex justify-center items-center p-1",style:{background:i},children:e.jsx("a",{href:"https://github.com/Yolo-00/work-template-react",target:"_blank",className:"text-lg font-semibold",children:"work-template-react"})})]})]})})})}function je(){return e.jsx("h1",{children:"Not Found"})}const ke=j.lazy(()=>k(()=>import("./index-Cv4WIXqm.js"),__vite__mapDeps([0,1,2]),import.meta.url)),ve=j.lazy(()=>k(()=>import("./index-Dy44YgBD.js"),__vite__mapDeps([3,1]),import.meta.url)),Le=j.lazy(()=>k(()=>import("./index-CXr602BE.js"),__vite__mapDeps([4,1]),import.meta.url)),be=j.lazy(()=>k(()=>import("./index-BApA0U9-.js"),__vite__mapDeps([5,1]),import.meta.url)),_e=j.lazy(()=>k(()=>import("./index-Gpbm7KnN.js"),__vite__mapDeps([6,1]),import.meta.url)),v=[{path:"/",element:e.jsx(ve,{}),meta:{title:"menu.home",icon:e.jsx(G,{}),desc:"首页"},loader:b},{path:"/userList",element:e.jsx(Le,{}),meta:{title:"menu.userList",icon:e.jsx(J,{}),desc:"用户列表"},loader:b},{path:"/menu",meta:{title:"menu.menu",icon:e.jsx(Q,{}),desc:"多级菜单"},loader:b,children:[{path:"/menu/menu-1",element:e.jsx(be,{}),meta:{title:"menu.menu-1"}},{path:"/menu/menu-2",meta:{title:"menu.menu-2"},children:[{path:"/menu/menu-2/menu-2-1",element:e.jsx(_e,{}),meta:{title:"menu.menu-2-1"}}]}]}],Re=Y([{path:"/login",element:e.jsx(ke,{}),loader:()=>P()?I("/"):null},{path:"/",element:e.jsx(xe,{}),children:[...v]},{path:"*",element:e.jsx(je,{})}],{future:{v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_relativeSplatPath:!0,v7_skipActionErrorRevalidation:!0}});function b(){return P()?null:I("/login")}const Ee="首页",Oe={"layout.header.locales.theme.light":"明亮","layout.header.locales.theme.dark":"黑暗","layout.header.locales.zh":"简体中文","layout.header.locales.en":"English","layout.header.info.out":"退出登录","menu.home":"首页","menu.userList":"用户列表","menu.menu":"多级菜单","menu.menu-1":"菜单-1","menu.menu-2":"菜单-2","menu.menu-2-1":"菜单-2-1",home:Ee},we="home",Se={"layout.header.locales.theme.light":"light","layout.header.locales.theme.dark":"dark","layout.header.locales.zh":"简体中文","layout.header.locales.en":"English","layout.header.info.out":"logout","menu.home":"home","menu.userList":"userList","menu.menu":"menu","menu.menu-1":"menu-1","menu.menu-2":"menu-2","menu.menu-2-1":"menu-2-1",home:we};X.use(Z).init({fallbackLng:se(),debug:!0,interpolation:{escapeValue:!1},resources:{zh:{translation:Oe},en:{translation:Se}}});function Ce(){const{language:n,systemTheme:t}=p();return f.useEffect(()=>{t==="dark"?document.body.classList.add("dark"):document.body.classList.remove("dark")},[t]),e.jsx(e.Fragment,{children:e.jsx(ee,{locale:n==="zh"?te:void 0,theme:{algorithm:t==="dark"?C.darkAlgorithm:void 0},children:e.jsxs(ne,{children:[e.jsx(re,{router:Re,future:{v7_startTransition:!0}}),e.jsx(ie,{})]})})})}oe(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(Ce,{})}));export{le as s,p as u};
