const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BKHfzcmK.js","./vendor-BVX_8YO6.js","../css/index-DXSHXFhL.css","./index-CPinv1Ho.js","./index-UbWnhMpS.js","./index-DJ4pxwGX.js","./index-CFiV4SDm.js"])))=>i.map(i=>d[i]);
import{c as F,d as M,p as B,i as D,a as H,u as C,b as S,e as O,r as p,j as e,M as N,F as U,B as V,S as q,D as R,R as W,f as K,A as Y,L as G,g as k,h as J,k as Q,l as X,t as z,W as Z,m as _,n as ee,o as te,q as ne,s as se,O as re,v as A,C as oe,z as ae,H as le,w as ce,x as ie}from"./vendor-BVX_8YO6.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function c(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=c(r);fetch(r.href,o)}})();const x=F()(M(B(s=>({token:"",userInfo:{},isReLogin:!1,language:"zh",systemTheme:"light",crumbsList:[],setUserInfo:t=>s({userInfo:t}),setToken:t=>s({token:t}),loginOut:()=>s({token:"",userInfo:{}}),setLanguage:t=>s({language:t}),setSystemTheme:t=>s({systemTheme:t}),setCrumbsList:t=>s({crumbsList:t})}),{name:"appStore"}))),ue=()=>x.getState().language,me=()=>{x.getState().loginOut()},he=s=>x.setState({isReLogin:s}),de="首页",pe={"layout.header.locales.theme.light":"明亮","layout.header.locales.theme.dark":"黑暗","layout.header.locales.zh":"简体中文","layout.header.locales.en":"English","layout.header.info.out":"退出登录","menu.home":"首页","menu.userList":"用户列表","menu.menu":"多级菜单","menu.menu-1":"菜单-1","menu.menu-2":"菜单-2","menu.menu-2-1":"菜单-2-1",home:de},fe="home",ge={"layout.header.locales.theme.light":"light","layout.header.locales.theme.dark":"dark","layout.header.locales.zh":"简体中文","layout.header.locales.en":"English","layout.header.info.out":"logout","menu.home":"home","menu.userList":"userList","menu.menu":"menu","menu.menu-1":"menu-1","menu.menu-2":"menu-2","menu.menu-2-1":"menu-2-1",home:fe};D.use(H).init({fallbackLng:ue(),debug:!0,interpolation:{escapeValue:!1},resources:{zh:{translation:pe},en:{translation:ge}}});const xe=""+new URL("../png/avatar-DNkpT6eM.png",import.meta.url).href;function ye(){const s=C(),{language:t,setLanguage:c,systemTheme:n,setSystemTheme:r,crumbsList:o}=x(),{t:a,i18n:i}=S(),{pathname:g}=O(),h=p.useMemo(()=>o.map(m=>({path:m.path,title:a(m.title)})),[o,a]),d=[{key:"light",label:e.jsx("div",{children:a("layout.header.locales.theme.light")}),onClick:()=>{l("light")}},{key:"dark",label:e.jsx("div",{children:a("layout.header.locales.theme.dark")}),onClick:()=>{l("dark")}}],j=[{key:"zh",label:e.jsx("div",{children:a("layout.header.locales.zh")}),onClick:()=>{u("zh")}},{key:"en",label:e.jsx("div",{children:a("layout.header.locales.en")}),onClick:()=>{u("en")}}],L=[{key:"1",label:e.jsx("div",{children:a("layout.header.info.out")}),onClick:()=>{b()}}],l=m=>{r(m)},u=m=>{c(m),i.changeLanguage(m)},f=m=>{var I;return m.path===g?e.jsx("span",{children:m.title}):e.jsx(G,{to:((I=o.find($=>$.path==m.path))==null?void 0:I.url)||"",children:m.title})},b=p.useCallback(()=>{N.confirm({centered:!0,destroyOnClose:!0,title:"提示",content:"是否退出登录?",onOk:()=>{me(),s("/login",{replace:!0})}})},[s]);return e.jsx("div",{className:"pr-8 flex-auto",children:e.jsxs(U,{justify:"space-between",children:[e.jsx(V,{items:h,itemRender:f,className:"flex items-center"}),e.jsxs(q,{align:"center",size:"large",children:[e.jsx(R,{menu:{items:d,selectedKeys:[n]},placement:"bottom",arrow:{pointAtCenter:!0},children:e.jsx(W,{className:"text-2xl cursor-pointer block py-2 px-3"})}),e.jsx(R,{menu:{items:j,selectedKeys:[t]},placement:"bottom",arrow:{pointAtCenter:!0},children:e.jsx(K,{className:"text-2xl cursor-pointer block py-2 px-3"})}),e.jsx(R,{menu:{items:L},placement:"bottom",arrow:{pointAtCenter:!0},children:e.jsx(Y,{className:"select-none",size:45,src:xe,shape:"square"})})]})]})})}const je=""+new URL("../../react.svg",import.meta.url).href,ke="modulepreload",ve=function(s,t){return new URL(s,t).href},w={},v=function(t,c,n){let r=Promise.resolve();if(c&&c.length>0){const a=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),g=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(c.map(h=>{if(h=ve(h,n),h in w)return;w[h]=!0;const d=h.endsWith(".css"),j=d?'[rel="stylesheet"]':"";if(!!n)for(let u=a.length-1;u>=0;u--){const f=a[u];if(f.href===h&&(!d||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${j}`))return;const l=document.createElement("link");if(l.rel=d?"stylesheet":ke,d||(l.as="script"),l.crossOrigin="",l.href=h,g&&l.setAttribute("nonce",g),document.head.appendChild(l),d)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return r.then(a=>{for(const i of a||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};function Le(){return e.jsx("h1",{children:"Not Found"})}const be=k.lazy(()=>v(()=>import("./index-BKHfzcmK.js"),__vite__mapDeps([0,1,2]),import.meta.url)),P=[{path:"/login",element:e.jsx(be,{})},{path:"*",element:e.jsx(Le,{})}],Re=k.lazy(()=>v(()=>import("./index-CPinv1Ho.js"),__vite__mapDeps([3,1]),import.meta.url)),_e=k.lazy(()=>v(()=>import("./index-UbWnhMpS.js"),__vite__mapDeps([4,1]),import.meta.url)),Ee=k.lazy(()=>v(()=>import("./index-DJ4pxwGX.js"),__vite__mapDeps([5,1]),import.meta.url)),Ce=k.lazy(()=>v(()=>import("./index-CFiV4SDm.js"),__vite__mapDeps([6,1]),import.meta.url)),y=[{path:"/",element:e.jsx(Re,{}),meta:{title:"menu.home",icon:e.jsx(J,{}),desc:"首页"}},{path:"/userList",element:e.jsx(_e,{}),meta:{title:"menu.userList",icon:e.jsx(Q,{}),desc:"用户列表"}},{path:"/menu",meta:{title:"menu.menu",icon:e.jsx(X,{}),desc:"多级菜单"},children:[{path:"/menu/menu-1",element:e.jsx(Ee,{}),meta:{title:"menu.menu-1"}},{path:"/menu/menu-2",meta:{title:"menu.menu-2"},children:[{path:"/menu/menu-2/menu-2-1",element:e.jsx(Ce,{}),meta:{title:"menu.menu-2-1"}}]}]}];function T(s,t,c=[]){return t.forEach(n=>{n.path===s?c.push(n.path):s.includes(n.path)&&n.children&&(c.push(n.path),T(s,n.children,c))}),c}function E(s,t,c=[]){return t.forEach(n=>{var r,o;n.path===s?c.push({title:((r=n.meta)==null?void 0:r.title)||"",path:n.path,url:n.path}):s.includes(n.path)&&n.children&&(c.push({title:((o=n.meta)==null?void 0:o.title)||"",path:n.path||"",url:n.children[0].path||""}),E(s,n.children,c))}),c}const{Header:Oe,Footer:Ie,Sider:we,Content:Se}=_;function Ne(){const s=C(),t=O(),{t:c}=S(),[n,r]=p.useState(!1),[o,a]=p.useState([]),{setCrumbsList:i}=x(),{token:{colorBgContainer:g,borderRadiusLG:h}}=z.useToken(),d=(l=y)=>l.map(u=>{var f,b,m;return{key:u.path||"",label:(f=u.meta)!=null&&f.title?c((b=u.meta)==null?void 0:b.title):"",icon:(m=u.meta)==null?void 0:m.icon,children:(u==null?void 0:u.children)&&d(u.children)}}),j=l=>{s(l.key),i(E(l.key,y))},L=p.useCallback(l=>{if(l.length===0||l.length===1)return a(l);const u=l[l.length-1];if(u.includes(l[0]))return a(l);a([u])},[a]);return p.useEffect(()=>{n||a(T(t.pathname,y)),i(E(t.pathname,y))},[n,t.pathname,i]),e.jsx(e.Fragment,{children:e.jsx(Z,{content:"Yolo",children:e.jsxs(_,{className:"h-[100vh]",children:[e.jsxs(we,{className:"overflow-auto",trigger:null,collapsible:!0,collapsed:n,children:[e.jsx("div",{children:e.jsx("img",{className:"w-10 h-10 mx-auto my-2 select-none",src:je,alt:""})}),e.jsx(ee,{className:"select-none",triggerSubMenuAction:"click",theme:"dark",mode:"inline",openKeys:o,selectedKeys:[t.pathname],items:d(y),onClick:j,onOpenChange:L})]}),e.jsxs(_,{children:[e.jsx(Oe,{style:{padding:0,background:g},children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx(te,{type:"text",icon:n?e.jsx(ne,{}):e.jsx(se,{}),onClick:()=>r(!n),className:"w-16 h-16",size:"large"}),e.jsx(ye,{})]})}),e.jsx(Se,{className:"p-5 m-4 overflow-auto",style:{background:g,borderRadius:h},children:e.jsx(re,{})}),e.jsx(Ie,{className:"w-full flex justify-center items-center p-1",style:{background:g},children:e.jsx("a",{href:"https://github.com/Yolo-00/work-template-react",target:"_blank",className:"text-lg font-semibold",children:"work-template-react"})})]})]})})})}function ze({routerList:s}){return A([{path:"/",element:e.jsx(Ne,{}),children:s},...P])}const Ae=()=>{const s=A(P),t=C(),{pathname:c}=O(),{token:n,isReLogin:r,loginOut:o}=x(),[a,i]=p.useState([]);return p.useEffect(()=>{n?(c==="/login"&&t("/",{replace:!0}),i(y)):c!=="/login"&&(o(),t("/login",{replace:!0})),r&&N.error({title:"警告",content:"登录失效请重新登录",okText:"去登录",onOk:()=>{he(!1),o(),t("/login",{replace:!0})}})},[r,c,n,o,t]),e.jsx(e.Fragment,{children:n?e.jsx(ze,{routerList:a}):s})};function Pe(){const{language:s,systemTheme:t}=x();return p.useEffect(()=>{t==="dark"?document.body.classList.add("dark"):document.body.classList.remove("dark")},[t]),e.jsx(e.Fragment,{children:e.jsx(oe,{locale:s==="zh"?ae:void 0,theme:{algorithm:t==="dark"?z.darkAlgorithm:void 0},children:e.jsx(le,{children:e.jsx(ce,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(Ae,{})})})})})}ie(document.getElementById("root")).render(e.jsx(p.StrictMode,{children:e.jsx(Pe,{})}));export{he as s,x as u};
